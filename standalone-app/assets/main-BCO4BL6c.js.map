{"version":3,"file":"main-BCO4BL6c.js","sources":["../../web-component.ts"],"sourcesContent":["import type Application from '@ember/application';\nimport App from './app/app';\nimport config from 'standalone-app/config/environment';\nimport styles from './app/styles.scss?inline';\n\nexport interface WrapAppOptions {\n  tagName?: string;\n  styles?: string;\n  rootElementTag?: string;\n  appConfig?: unknown;\n}\n\nexport function wrapApp(\n  App: typeof Application,\n  options: WrapAppOptions = {}\n): typeof HTMLElement {\n  class WrappedAppElement extends HTMLElement {\n    connectedCallback() {\n      const shadow = this.attachShadow({ mode: 'open' });\n\n      /**\n       * We originally defaulted to body here because we were testing with the ember-welcome-page and it\n       * had specific css targeting the body. The more we experimented and thought about it we thought\n       * it was a decent thing for an application wrapped in a web-component to have it's own body,\n       * and nobody seemed to be telling us it was a bad idea so ðŸ¤·\n       */\n      const rootElement = document.createElement(\n        options.rootElementTag ?? 'body'\n      );\n\n      if (styles) {\n        const style = document.createElement('style');\n        style.textContent = styles;\n        shadow.appendChild(style);\n      }\n\n      const appConfig = {\n        ...(options.appConfig ?? {}),\n        rootElement,\n      };\n      App.create(appConfig);\n\n      shadow.append(rootElement);\n    }\n  }\n\n  if (options.tagName) {\n    customElements.define(options.tagName, WrappedAppElement);\n  }\n\n  return WrappedAppElement;\n}\n\nexport default wrapApp(App, {\n  tagName: 'app-webcomponent',\n  appConfig: config.APP,\n});\n"],"names":["App","options","WrappedAppElement","HTMLElement","connectedCallback","shadow","this","attachShadow","mode","rootElement","document","createElement","rootElementTag","style","textContent","appendChild","appConfig","create","append","tagName","customElements","define","wrapApp","config","APP"],"mappings":"8CAYO,SACLA,EACAC,EAA0B,IAE1B,MAAMC,UAA0BC,YAC9BC,iBAAAA,GACE,MAAMC,EAASC,KAAKC,aAAa,CAAEC,KAAM,SAQnCC,EAAcC,SAASC,cAC3BV,EAAQW,gBAAkB,QAGhB,CACV,MAAMC,EAAQH,SAASC,cAAc,SACrCE,EAAMC,89nIACNT,EAAOU,YAAYF,EACrB,CAEA,MAAMG,EAAY,IACZf,EAAQe,WAAa,GACzBP,eAEFT,EAAIiB,OAAOD,GAEXX,EAAOa,OAAOT,EAChB,EAGER,EAAQkB,SACVC,eAAeC,OAAOpB,EAAQkB,QAASjB,EAI3C,CAEeoB,CAAQtB,EAAK,CAC1BmB,QAAS,mBACTH,UAAWO,EAAOC"}